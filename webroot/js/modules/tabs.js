/**
 * @project       tusk
 * @author        carsten.coull@swu.de
 * @build         Fri, Jan 19, 2024 12:08 PM ET
 * @release       1b650994ae2e5cea2d12394c10d15a51a4839535 [dev]
 * @copyright     Copyright (c) 2024, SWU Stadtwerke Ulm / Neu-Ulm GmbH
 *
 */
export default class Tabs{constructor(t){this.main=t,this.main.debug,this.Config={tabGroupSelector:".tab-group",tabButtonSelector:"[data-target]",tabButtonClass:"tab-button",activeTabClass:"tab--active",activeButtonClass:"tab-button--active"},this.tabGroups=document.querySelectorAll(this.Config.tabGroupSelector),this.tabGroups.length>0&&this.setup()}setup(){this.tabGroups.forEach((t=>{let e=t.querySelector(this.Config.tabButtonSelector);this.open(e)}));const t=location.hash.substring(1);if(t){let e=document.querySelector("."+this.Config.tabButtonClass+this.Config.tabButtonSelector.slice(0,-1)+"="+t+"]");if(e){let t=e.closest(this.Config.tabGroupSelector);this.toggle(e,t)}}}init(){this.tabGroups.forEach((t=>{t.querySelectorAll(this.Config.tabButtonSelector).forEach((e=>{e.addEventListener("click",(s=>{s.preventDefault(),this.toggle(e,t)}))}))})),window.addEventListener("layout-update",(()=>this.refresh()))}toggle(t,e){this.close(e),this.open(t)}close(t){let e=t.querySelectorAll("."+this.Config.activeButtonClass),s=t.querySelectorAll("."+this.Config.activeTabClass);e.forEach((t=>{t.classList.remove(this.Config.activeButtonClass)})),s.forEach((t=>{t.classList.remove(this.Config.activeTabClass)}))}open(t){let e=document.getElementById(t.dataset.target);t.classList.add(this.Config.activeButtonClass),e.classList.add(this.Config.activeTabClass)}refresh(){this.tabGroups=document.querySelectorAll(this.Config.tabGroupSelector),this.tabGroups.forEach((t=>{let e=t.querySelector(this.Config.tabButtonSelector);this.open(e)}))}}